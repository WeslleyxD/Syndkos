{% extends 'base.html' %}

{% block content %}

{% if categories %}
<section class="middle-container">
  <div class="middle-content-header">
    <div class="middle-title">
      <h2>Categorias</h2>
    </div>
    <a href="{% url 'manager:create_category' %}"><button><i class="fa-solid fa-plus"></i>ADICIONAR</button></a>
  </div>

  <table>
    <thead>
      <tr>
        <th>Nome</th>
        <th>Data Criação</th>
        <th>Data Modificação</th>
        <th>Opções</th>
      </tr>
    </thead>
    <tbody>
      {% for category in categories %}
      <tr>
        <td>{{category.name}}</td>
        <td>{{category.created_at|date:"d/m/Y - H:i"}}</td>
        <td>{{category.modified_at|date:"d/m/Y - H:i"}}</td>
        <td>
          <a href="{% url 'manager:update_category' category.id %}" id="category-modal-update"><i class="fa-2x fa-solid fa-file-pen"></i></a>
          <a href="{% url 'manager:delete_category' category.id %}"><i class="fa-2x fa-solid fa-trash"></i></a></td>
      </tr>
      {% endfor %}
    </tbody>
  </table>

</section>

{% else %}

<h2>Não há nenhuma categoria</h2>
<div class="middle-content-header">
  <div class="middle-title">
    <h2>Categorias</h2>
  </div>
  <a href="{% url 'manager:create_category' %}"><button><i class="fa-solid fa-plus"></i>ADICIONAR</button></a>
</div>

{% endif %}

{% endblock %}